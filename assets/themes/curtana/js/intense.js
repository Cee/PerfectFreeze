window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();var Intense=function(){"use strict";function a(a,b){for(var c in b)c in a||(a[c]=b[c]);return a}function b(a,b){for(var c in b)a.style[c]=b[c]}function c(a){var b=window.innerHeight/a.h;if(a.w*b>window.innerWidth)return{w:a.w*b,h:a.h*b,fit:!0};var c=window.innerWidth/a.w;return{w:a.w*c,h:a.h*c,fit:!1}}function d(a){var b;if(a.length)for(b=0;b<a.length;b++)e(a[b]);else e(a)}function e(a){(a.getAttribute("data-image")||a.src)&&a.addEventListener("click",function(){n(this)},!1)}function f(){h()}function g(){cancelRequestAnimFrame(v)}function h(){v=requestAnimFrame(h),t()}function i(){A=document.body.style.overflow,document.body.style.overflow="hidden",document.body.classList.add("intense-open")}function j(){document.body.style.overflow=A,document.body.classList.remove("intense-open")}function k(a,c,d){var e={backgroundColor:d,width:"100%",height:"100%",position:"fixed",top:"0px",left:"0px",overflow:"hidden",zIndex:"999999",margin:"0px",webkitTransition:"opacity 150ms cubic-bezier( 0, 0, .26, 1 )",MozTransition:"opacity 150ms cubic-bezier( 0, 0, .26, 1 )",transition:"opacity 150ms cubic-bezier( 0, 0, .26, 1 )",opacity:"0"};z=document.createElement("figure"),z.appendChild(y),b(z,e);var f={cursor:"zoom-out"};b(y,f);var g={fontFamily:'Georgia, Times, "Times New Roman", serif',position:"fixed",bottom:"0px",left:"0px",padding:"20px",color:"#fff",wordSpacing:"0.2px",webkitFontSmoothing:"antialiased",textShadow:"-1px 0px 1px rgba(0,0,0,0.4)"},h=document.createElement("figcaption");if(b(h,g),a){var i={margin:"0px",padding:"0px",fontWeight:"normal",fontSize:"40px",letterSpacing:"0.5px",lineHeight:"35px",textAlign:"left"},j=document.createElement("h1");b(j,i),j.innerHTML=a,h.appendChild(j)}if(c){var k={margin:"0px",padding:"0px",fontWeight:"normal",fontSize:"20px",letterSpacing:"0.1px",maxWidth:"500px",textAlign:"left",background:"none",marginTop:"5px"},l=document.createElement("h2");b(l,k),l.innerHTML=c,h.appendChild(l)}z.appendChild(h),m(),C.xCurr=C.xDest=window.innerWidth/2,C.yCurr=C.yDest=window.innerHeight/2,document.body.appendChild(z),setTimeout(function(){z.style.opacity="1"},10)}function l(){j(),p(),g(),document.body.removeChild(z)}function m(){var a=c(x);y.width=a.w,y.height=a.h,D=a.fit,F={w:y.width,h:y.height},G={w:window.innerWidth,h:window.innerHeight},H={x:G.w-F.w,y:G.h-F.h}}function n(a){var b=a.getAttribute("data-image")||a.src,c=a.getAttribute("data-title"),d=a.getAttribute("data-caption"),e=a.getAttribute("data-background")||"rgba(0,0,0,.8)",f=new Image;f.onload=function(){x={w:f.width,h:f.height},y=this,k(c,d,e),i(),o(),h()},f.src=b}function o(){z.addEventListener("mousemove",q,!1),z.addEventListener("touchmove",r,!1),window.addEventListener("resize",m,!1),window.addEventListener("keyup",s,!1),y.addEventListener("click",l,!1)}function p(){z.removeEventListener("mousemove",q,!1),z.removeEventListener("touchmove",r,!1),window.removeEventListener("resize",m,!1),window.removeEventListener("keyup",s,!1),y.removeEventListener("click",l,!1)}function q(a){C.xDest=a.clientX,C.yDest=a.clientY}function r(a){a.preventDefault(),C.xDest=a.touches[0].clientX,C.yDest=a.touches[0].clientY}function s(a){a.preventDefault(),a.keyCode===B&&l()}function t(){if(C.xCurr+=.05*(C.xDest-C.xCurr),C.yCurr+=.05*(C.yDest-C.yCurr),D===!0){if(E+=C.xCurr-E,C.xCurr!==w){var a=parseFloat(E/G.w);a=H.x*a,y.style.webkitTransform="translate3d("+a+"px, 0px, 0px)",y.style.MozTransform="translate3d("+a+"px, 0px, 0px)",y.style.msTransform="translate3d("+a+"px, 0px, 0px)",w=C.xCurr}}else if(D===!1&&(E+=C.yCurr-E,C.yCurr!==w)){var a=parseFloat(E/G.h);a=H.y*a,y.style.webkitTransform="translate3d( 0px, "+a+"px, 0px)",y.style.MozTransform="translate3d( 0px, "+a+"px, 0px)",y.style.msTransform="translate3d( 0px, "+a+"px, 0px)",w=C.yCurr}}function u(a){if(!a)throw"You need to pass an element!";d(a)}var v,w,x,y,z,A,B=27,C={xCurr:0,yCurr:0,xDest:0,yDest:0},D=!0,E=0,F={w:0,h:0},G={w:0,h:0},H={x:0,y:0};return a(u,{resize:m,start:f,stop:g})}();